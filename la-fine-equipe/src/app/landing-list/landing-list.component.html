<app-header></app-header>
<main class="landing-list">
  <div class="tab-container">
    <div class="tab">
      <button id="btn-venir" class="btn-left" (click)="activer('venir')">Actes médicaux à venir</button>
    </div>
    <div class="tab">
      <button id="btn-passes" class="btn-right" (click)="activer('passes')">Actes médicaux passés</button>
    </div>
  </div>
  <div id="venir" class="landing-container" [ngClass]="{'non-active': elementActif !== 'venir'}">
    <h1>Actes médicaux à venir</h1>
    <div class="table-wrapper">
      <table class="fl-table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Lieu</th>
            <th>Nature de la prestation</th>
            <th>État</th>
            <th>Détails</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let intervention of passedInterventions">
            <th>{{ intervention.date | date : "dd/MM/yyyy" }}</th>
            <td>{{ intervention.place }}</td>
            <td>{{ intervention.intervention }}</td>
            <td>
              <div *ngIf="intervention.isPayed">Aquitté</div>
              <div *ngIf="!intervention.isPayed">
                En attente de paiement
                <button
                  class="btn"
                  role="button"
                  (click)="payIntervention(intervention.id)"
                >
                  <i class="fa fa-credit-card"></i>
                </button>
              </div>
            </td>
            <td>
              <button class="btn" [routerLink]="['/', 'detail']">
                Voir détails
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div id="passes" class="landing-container non-active" [ngClass]="{'non-active': elementActif !== 'passes'}">
    <h1>Actes médicaux passés</h1>
    <div class="table-wrapper">
      <table class="fl-table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Lieu</th>
            <th>Nature de la prestation</th>
            <th>État</th>
            <th>Détails</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let intervention of futureInterventions">
            <th>{{ intervention.date | date : "dd/MM/yyyy" }}</th>
            <td>{{ intervention.place }}</td>
            <td>{{ intervention.intervention }}</td>
            <td>
              <div *ngIf="intervention.isConfirmed">Confirmé</div>
              <div *ngIf="!intervention.isConfirmed">
                En attente de confirmation
                <button
                  class="btn"
                  role="button"
                  (click)="confirmIntervention(intervention.id)"
                >
                  <i class="fa fa-check"></i>
                </button>
              </div>
            </td>
            <td>
              <button class="btn" [routerLink]="['/', 'detail']">
                Voir détails
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</main>
<app-footer></app-footer>
